{
  // ==================== Python 基础配置 ====================
  "python.defaultInterpreterPath": "${workspaceFolder}/.venv/Scripts/python.exe",
  "python.terminal.activateEnvironment": true,
  "python.terminal.activateEnvInCurrentTerminal": true,
  // ==================== 编辑器配置 ====================
  "[python]": {
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.fixAll": "explicit",
      "source.organizeImports": "explicit"
    },
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.rulers": [
      88,
      120
    ],
    "editor.tabSize": 4,
    "editor.insertSpaces": true
  },
  // ==================== Ruff (Linting + Formatting) ====================
  // Ruff 原生语言服务器配置（v2024+）
  "ruff.enable": true,
  "ruff.nativeServer": true,
  "ruff.fixAll": true,
  "ruff.configurationPreference": "filesystemFirst",
  // ==================== Pylance 类型检查 ====================
  "python.analysis.typeCheckingMode": "basic",
  "python.analysis.autoImportCompletions": true,
  "python.analysis.importFormat": "absolute",
  "python.analysis.inlayHints.functionReturnTypes": true,
  "python.analysis.inlayHints.variableTypes": false,
  "python.analysis.inlayHints.pytestParameters": true,
  // ==================== 测试配置 (pytest) ====================
  "python.testing.pytestEnabled": true,
  "python.testing.unittestEnabled": false,
  "python.testing.pytestArgs": [
    "dev/tests",
    "-v",
    "--tb=short"
  ],
  // ==================== 文件关联 ====================
  "files.associations": {
    "*.yaml": "yaml",
    "*.yml": "yaml",
    "*.j2": "jinja",
    "*.jinja2": "jinja"
  },
  // ==================== 文件排除 ====================
  "files.exclude": {
    "**/__pycache__": true,
    "**/*.pyc": true,
    "**/*.pyo": true,
    "**/.pytest_cache": true,
    "**/.ruff_cache": true,
    "**/*.egg-info": true,
    "**/.mypy_cache": true
  },
  // ==================== 搜索排除 ====================
  "search.exclude": {
    "**/__pycache__": true,
    "**/node_modules": true,
    "**/.venv": true,
    "**/uv.lock": true,
    "**/*.lock": true
  },
  // ==================== YAML 配置 ====================
  "[yaml]": {
    "editor.tabSize": 2,
    "editor.insertSpaces": true,
    "editor.autoIndent": "advanced"
  },
  // ==================== JSON 配置 ====================
  "[json]": {
    "editor.tabSize": 2,
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "vscode.json-language-features"
  },
  "[jsonc]": {
    "editor.tabSize": 2,
    "editor.formatOnSave": true
  },
  // ==================== Git 配置 ====================
  "git.enableSmartCommit": true,
  "git.confirmSync": false,
  "git.autofetch": true,
  // ==================== 终端配置 ====================
  "terminal.integrated.env.windows": {
    "PYTHONIOENCODING": "utf-8"
  },
  "terminal.integrated.fontSize": 13,
  // ==================== 其他 ====================
  "editor.bracketPairColorization.enabled": true,
  "editor.guides.bracketPairs": "active",
  "editor.stickyScroll.enabled": true
}
